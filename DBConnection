import javax.sql.DataSource;

import org.springframework.jdbc.core.JdbcTemplate;
import org.springframework.jdbc.datasource.DriverManagerDataSource;

import com.cengage.automation.utils.YamlReader;

public class DatabaseConnection {

	 private static final String driverClassName = YamlReader.getYamlValue("jdbc_parameters.driver_class_name");
	 private static final String url = YamlReader.getYamlValue("jdbc_parameters.url");
	 private static final String dbUsername = YamlReader.getYamlValue("jdbc_parameters.user_name");
	 private static final String dbPassword = YamlReader.getYamlValue("jdbc_parameters.password");
	 
	 protected static DataSource dataSource;
	 
	 public static JdbcTemplate template;
	 
	 public DatabaseConnection() {
		 getJDBCTemplate();
	 }

	 public JdbcTemplate getJDBCTemplate(){
		 
		 dataSource = getDataSource();
		
	     template = new JdbcTemplate();
	    
	     template.setDataSource(dataSource);
	    
	     return template;
	}
	
	public DriverManagerDataSource getDataSource() {
	
		  DriverManagerDataSource dataSource = new DriverManagerDataSource();
	
		  dataSource.setDriverClassName(driverClassName);
	
		  dataSource.setUrl(url);
	
		  dataSource.setUsername(dbUsername);
	
		  dataSource.setPassword(dbPassword);
	
		  return dataSource;

	 }
 

}
